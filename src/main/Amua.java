/**
 * Amua - An open source modeling framework.
 * Copyright (C) 2017 Zachary J. Ward
 *
 * This file is part of Amua. Amua is free software: you can redistribute
 * it and/or modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * Amua is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Amua.  If not, see <http://www.gnu.org/licenses/>.
 */
//Utility class
package main;

import java.awt.EventQueue;

import javax.swing.UIManager;
import javax.swing.UIManager.LookAndFeelInfo;

import cluster.ClusterRun;
import gui.frmMain;

public class Amua {
	
	/**
	 * Launch the application.
	 */
	public static void main(String[] args) {
		String version="0.3.2";
		
		boolean gui=true;
		if(args.length>0) {
			gui=false;
		}

		if(gui==true) { //show desktop gui
			//get current OS
			String curOS=System.getProperty("os.name").toLowerCase();
			if(curOS.contains("mac")){ //if Mac
				System.setProperty( "com.apple.mrj.application.apple.menu.about.name", "Amua" );
				System.setProperty( "com.apple.macos.useScreenMenuBar", "true" );
				System.setProperty( "apple.laf.useScreenMenuBar", "true" ); // for older versions of Java
			}

			try {
				for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {
					if ("Nimbus".equals(info.getName())) {
						UIManager.setLookAndFeel(info.getClassName());
						break;
					}
				}
			} catch (Exception e) {
				e.printStackTrace();
			}

			EventQueue.invokeLater(new Runnable() {
				public void run() {
					try {
						frmMain window = new frmMain(version);
						window.frmMain.setVisible(true);
						window.checkUpdates();
					} catch (Exception e) {
						e.printStackTrace();
					}
				}
			});
		}
		else { //process arguments for cluster run
			new ClusterRun(args,version);
		}
	
	}
}